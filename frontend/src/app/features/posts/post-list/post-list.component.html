<div class="feed-container">
  <div class="actions-header">
    <button mat-raised-button color="primary">Créer un article</button>
  </div>

  <div class="posts-grid">
    <div *ngIf="errorMessage" class="error-message">
      <p>{{ errorMessage }}</p>
    </div>

    <mat-card class="post-card" *ngFor="let post of posts">
      <mat-card-header>
        <mat-card-title>{{ post.title }}</mat-card-title>
        <mat-card-subtitle>
          Par {{ post.authorName }} | {{ post.createdAt | date: 'dd/MM/yyyy à HH:mm' }} | Thème: {{ post.topicName }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p class="post-content">
          {{ post.content.length > 200 ? (post.content | slice: 0 : 200) + '...' : post.content }}
        </p>
      </mat-card-content>

      <mat-card-actions align="end">
        <button mat-button color="primary">Lire la suite</button>
      </mat-card-actions>
    </mat-card>

    <div *ngIf="posts.length === 0 && !errorMessage" class="no-posts">
      <p>Aucun article pour le moment. Soyez le premier à publier !</p>
    </div>
  </div>
</div>
